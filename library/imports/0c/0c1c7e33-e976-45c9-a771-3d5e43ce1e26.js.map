{"version":3,"sources":["assets\\Script\\Rewards.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Rewards extends cc.Component {\n\t\n\tcurrentSeason: number = 1;\n\t\n\t@property(cc.Label)\n    rewardLabel: cc.Label = null;\n\t\n\t@property(cc.Button)\n    claimButton: cc.Button = null;\n\t\n\t@property(cc.Button)\n    rewardButton: cc.Button = null;\n\t\n\tclaimAP (e, msg) {\n\t  cc.sys.localStorage.setItem('gift-package', 1);\n\t  this.welcome.okt += 100\n\t  this.welcome.setBalanceLabel()\n\t  this.claimButton.interactable = false\n\t  let xhr = new XMLHttpRequest();\n\t  let url = \"https://losernft.org/register?address=\" + this.welcome.address\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\n          var response = xhr.responseText;\n          console.log(response);\n        }\n      };\n      xhr.open(\"GET\", url, true);\n      xhr.send();\n    },\n\t\n\tclaimLowb (e, msg) {\n\t\tthis.welcome.claimRewards()\n\t\tthis.rewardButton.interactable = false\n    },\n\t\n\tsetLabel (lowb, umg) {\n\t\tconst lang = cc.sys.localStorage.getItem('lang')\n\t\tif (lang === 'zh') {\n\t\t\tthis.rewardLabel.string = `${lowb} lowb \\n${umg} UMG`\n\t\t}\n\t\telse {\n\t\t\tthis.rewardLabel.string = `${lowb} lowb \\n${umg} UMG`\n\t\t}\n\t\tif (lowb > 0) {\n\t\t\tthis.rewardButton.interactable = true\n\t\t}\n    },\n\t\n\tcancle (e, msg) {\n        //cc.log('skip');\n\t\tthis.node.destroy()\n    },\n\n\tonLoad () {\n\t\tthis.rewardButton.interactable = false\n\t\tconst gift = cc.sys.localStorage.getItem('gift-package')\n\t\tif (gift == this.currentSeason) {\n\t\t\tthis.claimButton.interactable = false\n\t\t}\n    },\n\n    start () {\n\n    }\n}\n"]}